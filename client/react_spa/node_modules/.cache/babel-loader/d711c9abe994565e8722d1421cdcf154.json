{"ast":null,"code":"import _classCallCheck from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/src/Invoice.js\";\nimport React, { Component } from \"react\";\nexport function createBlogPost(event) {\n  //const data = new FormData(event.target);\n  console.log(event);\n  return fetch('http://localhost:8080/invoices/', {\n    method: 'POST',\n    body: JSON.stringify(event),\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return res;\n  }).catch(function (err) {\n    return err;\n  });\n}\n\nfunction validate(clientName, invoiceUniqueNo, invoiceCreationDate, invoiceAmount) {\n  // we are going to store errors for all fields\n  // in a signle array\n  var errors = [];\n\n  if (clientName.length === 0) {\n    errors.push(\"Client Name in invoice can't be empty\");\n  }\n\n  if (invoiceUniqueNo.length === 0) {\n    errors.push(\"Invoice unique Number can't be empty\");\n  }\n\n  if (invoiceCreationDate.length != 10) {\n    errors.push(\"Invoice creation date should be of format dd/MM/yyyy\");\n  }\n\n  if (invoiceAmount.length == 6) {\n    errors.push(\"Amount can't be empty\");\n  }\n\n  return errors;\n}\n\nvar Popup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Popup, _React$Component);\n\n  function Popup() {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popup).call(this));\n    _this.state = {\n      clientName: \"\",\n      invoiceUniqueNo: \"\",\n      invoiceCreationDate: \"\",\n      invoiceAmount: \"\",\n      invoiceStatus: \"\",\n      errors: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var _this$state = this.state,\n          clientName = _this$state.clientName,\n          invoiceUniqueNo = _this$state.invoiceUniqueNo,\n          invoiceCreationDate = _this$state.invoiceCreationDate,\n          invoiceAmount = _this$state.invoiceAmount;\n      var errors = validate(clientName, invoiceUniqueNo, invoiceCreationDate, invoiceAmount);\n\n      if (errors.length > 0) {\n        this.setState({\n          errors: errors\n        });\n        return;\n      } // submit the data...\n      // calling the post api\n\n\n      console.log(this.state);\n      createBlogPost(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        className: \"popup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popup_inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.props.text), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.props.myDataProp,\n        onChange: this.props.updateStateProp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.props.myDataProp)), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, errors.map(function (error) {\n        return React.createElement(\"p\", {\n          key: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Error: \", error);\n      }), React.createElement(\"input\", {\n        value: this.state.userId,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            userId: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"userId\",\n        id: \"userId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.clientName,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            clientName: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"clientName\",\n        id: \"clientName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"invoiceUniqueNo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Invoice Unique No.: \"), React.createElement(\"input\", {\n        value: this.state.invoiceUniqueNo,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            invoiceUniqueNo: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"invoiceUniqueNo\",\n        id: \"invoiceUniqueNo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"invoiceCreationDate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Invoice Creation date (dd/MM/yyyy) : \"), React.createElement(\"input\", {\n        value: this.state.invoiceCreationDate,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            invoiceCreationDate: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"invoiceCreationDate\",\n        id: \"invoiceCreationDate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"invoiceAmount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Invoice Amount : \"), React.createElement(\"input\", {\n        value: this.state.invoiceAmount,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            invoiceAmount: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"invoiceAmount\",\n        id: \"invoiceAmount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        onClick: this.props.closePopup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"button\", {\n        onClick: this.props.closePopup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Create\"))));\n    }\n  }]);\n\n  return Popup;\n}(React.Component);\n\nvar Invoice =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Invoice, _React$Component2);\n\n  function Invoice(props) {\n    var _this3;\n\n    _classCallCheck(this, Invoice);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Invoice).call(this, props));\n    _this3.state = {\n      showPopup: false,\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n    return _this3;\n  }\n\n  _createClass(Invoice, [{\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      this.setState(function (state) {\n        return {\n          isToggleOn: !state.isToggleOn\n        };\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      fetch(\"http://localhost:8080/invoices/1000\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this4.setState({\n          isLoaded: true,\n          items: result\n        });\n      }, // Note: it's important to handle errors here\n      // instead of a catch() block so that we don't swallow\n      // exceptions from actual bugs in components.\n      function (error) {\n        _this4.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          error = _this$state2.error,\n          isLoaded = _this$state2.isLoaded,\n          items = _this$state2.items;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          color: \"primary\",\n          onClick: this.togglePopup.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"Create New Invoice\"), this.state.showPopup ? React.createElement(Popup, {\n          text: \"Create New Invoice\",\n          closePopup: this.togglePopup.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }) : null, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, items.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.invoiceId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, \"Invoice ID : \", item.invoiceId), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, \"Client name : \", item.invoiceClientName), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, \"Creation Date : \", item.invoiceCreationDate), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }, \"Invoice Unique ID : \", item.invoiceUniqueNo), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, \"Invoice Creation Date : \", item.invoiceCreationDate), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }, \"Amount : \", item.invoiceAmount), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, \"Status : \", item.invoiceStatus), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }));\n        })));\n      }\n    }\n  }]);\n\n  return Invoice;\n}(React.Component);\n\nexport default Invoice;","map":{"version":3,"sources":["/Users/nmehta/Desktop/Project/payRollApplication/react_spa/src/Invoice.js"],"names":["React","Component","createBlogPost","event","console","log","fetch","method","body","JSON","stringify","headers","then","res","catch","err","validate","clientName","invoiceUniqueNo","invoiceCreationDate","invoiceAmount","errors","length","push","Popup","state","invoiceStatus","handleSubmit","bind","e","preventDefault","setState","props","text","myDataProp","updateStateProp","map","error","userId","evt","target","value","closePopup","Invoice","showPopup","isLoaded","items","isToggleOn","json","result","message","togglePopup","item","invoiceId","invoiceClientName"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAGA,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAClC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,KAAK,CAAC,iCAAD,EAAoC;AAC5CC,IAAAA,MAAM,EAAE,MADoC;AAE5CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,KAAf,CAFsC;AAG5CQ,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT;AAHmC,GAApC,CAAL,CAOJC,IAPI,CAOC,UAAAC,GAAG,EAAI;AACX,WAAOA,GAAP;AACH,GATM,EASJC,KATI,CASE,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GATL,CAAP;AAWH;;AAGD,SAASC,QAAT,CAAkBC,UAAlB,EAA8BC,eAA9B,EAA+CC,mBAA/C,EAAoEC,aAApE,EAAmF;AACjF;AACA;AACA,MAAMC,MAAM,GAAG,EAAf;;AAEA,MAAIJ,UAAU,CAACK,MAAX,KAAsB,CAA1B,EAA6B;AAC3BD,IAAAA,MAAM,CAACE,IAAP,CAAY,uCAAZ;AACD;;AAED,MAAIL,eAAe,CAACI,MAAhB,KAA2B,CAA/B,EAAkC;AAChCD,IAAAA,MAAM,CAACE,IAAP,CAAY,sCAAZ;AACD;;AAED,MAAIJ,mBAAmB,CAACG,MAApB,IAA8B,EAAlC,EAAsC;AACpCD,IAAAA,MAAM,CAACE,IAAP,CAAY,sDAAZ;AACD;;AAED,MAAIH,aAAa,CAACE,MAAd,IAAwB,CAA5B,EAA+B;AAC7BD,IAAAA,MAAM,CAACE,IAAP,CAAY,uBAAZ;AACD;;AAED,SAAOF,MAAP;AACD;;IAGKG,K;;;;;AAEJ,mBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa;AACXR,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,eAAe,EAAE,EAFN;AAGXC,MAAAA,mBAAmB,EAAE,EAHV;AAIXC,MAAAA,aAAa,EAAE,EAJJ;AAKXM,MAAAA,aAAa,EAAE,EALJ;AAOXL,MAAAA,MAAM,EAAE;AAPG,KAAb;AAUA,UAAKM,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AAZY;AAab;;;;iCAEYC,C,EAAG;AACdA,MAAAA,CAAC,CAACC,cAAF;AADc,wBAG8D,KAAKL,KAHnE;AAAA,UAGNR,UAHM,eAGNA,UAHM;AAAA,UAGMC,eAHN,eAGMA,eAHN;AAAA,UAGuBC,mBAHvB,eAGuBA,mBAHvB;AAAA,UAG4CC,aAH5C,eAG4CA,aAH5C;AAKd,UAAMC,MAAM,GAAGL,QAAQ,CAACC,UAAD,EAAaC,eAAb,EAA8BC,mBAA9B,EAAmDC,aAAnD,CAAvB;;AACA,UAAIC,MAAM,CAACC,MAAP,GAAgB,CAApB,EAAuB;AACrB,aAAKS,QAAL,CAAc;AAAEV,UAAAA,MAAM,EAANA;AAAF,SAAd;AACA;AACD,OATa,CAWd;AACA;;;AACAjB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKoB,KAAjB;AACAvB,MAAAA,cAAc,CAAC,KAAKuB,KAAN,CAAd;AACD;;;6BAGQ;AAAA;;AAAA,UACCJ,MADD,GACY,KAAKI,KADjB,CACCJ,MADD;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKW,KAAL,CAAWC,IAAhB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAG,MAAd;AAAqB,QAAA,KAAK,EAAI,KAAKD,KAAL,CAAWE,UAAzC;AACG,QAAA,QAAQ,EAAI,KAAKF,KAAL,CAAWG,eAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKH,KAAL,CAAWE,UAAhB,CAHF,CAFF,EAQC;AAAM,QAAA,QAAQ,EAAE,KAAKP,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEN,MAAM,CAACe,GAAP,CAAW,UAAAC,KAAK;AAAA,eACjB;AAAG,UAAA,GAAG,EAAEA,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAuBA,KAAvB,CADiB;AAAA,OAAhB,CADF,EAKD;AAAO,QAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWa,MAAzB;AACE,QAAA,QAAQ,EAAE,kBAAAC,GAAG;AAAA,iBAAI,MAAI,CAACR,QAAL,CAAc;AAAEO,YAAAA,MAAM,EAAEC,GAAG,CAACC,MAAJ,CAAWC;AAArB,WAAd,CAAJ;AAAA,SADf;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,WAAW,EAAC,QAHd;AAGuB,QAAA,EAAE,EAAC,QAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALC,EAUD;AAAO,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWR,UAAzB;AACE,QAAA,QAAQ,EAAE,kBAAAsB,GAAG;AAAA,iBAAI,MAAI,CAACR,QAAL,CAAc;AAAEd,YAAAA,UAAU,EAAEsB,GAAG,CAACC,MAAJ,CAAWC;AAAzB,WAAd,CAAJ;AAAA,SADf;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,WAAW,EAAC,YAHd;AAG2B,QAAA,EAAE,EAAC,YAH9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVC,EAeC;AAAO,QAAA,OAAO,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAfD,EAgBD;AAAO,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWP,eAAzB;AACE,QAAA,QAAQ,EAAE,kBAAAqB,GAAG;AAAA,iBAAI,MAAI,CAACR,QAAL,CAAc;AAAEb,YAAAA,eAAe,EAAEqB,GAAG,CAACC,MAAJ,CAAWC;AAA9B,WAAd,CAAJ;AAAA,SADf;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,WAAW,EAAC,iBAHd;AAGgC,QAAA,EAAE,EAAC,iBAHnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBC,EAoBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBD,EAsBC;AAAO,QAAA,OAAO,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAtBD,EAuBD;AAAO,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWN,mBAAzB;AACE,QAAA,QAAQ,EAAE,kBAAAoB,GAAG;AAAA,iBAAI,MAAI,CAACR,QAAL,CAAc;AAAEZ,YAAAA,mBAAmB,EAAEoB,GAAG,CAACC,MAAJ,CAAWC;AAAlC,WAAd,CAAJ;AAAA,SADf;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,WAAW,EAAC,qBAHd;AAGoC,QAAA,EAAE,EAAC,qBAHvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBC,EA2BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3BD,EA6BC;AAAO,QAAA,OAAO,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BA7BD,EA8BD;AAAO,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWL,aAAzB;AACE,QAAA,QAAQ,EAAE,kBAAAmB,GAAG;AAAA,iBAAI,MAAI,CAACR,QAAL,CAAc;AAAEX,YAAAA,aAAa,EAAEmB,GAAG,CAACC,MAAJ,CAAWC;AAA5B,WAAd,CAAJ;AAAA,SADf;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,WAAW,EAAC,eAHd;AAG8B,QAAA,EAAE,EAAC,eAHjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9BC,EAkCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlCD,EAqCD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArCC,EAsCD;AAAQ,QAAA,OAAO,EAAE,KAAKT,KAAL,CAAWU,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAtCC,EAuCD;AAAQ,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWU,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvCC,CARD,CADF,CADF;AAwDD;;;;EA7FiB1C,KAAK,CAACC,S;;IAgGpB0C,O;;;;;AACJ,mBAAYX,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AACA,WAAKP,KAAL,GAAa;AACXmB,MAAAA,SAAS,EAAE,KADA;AAEXP,MAAAA,KAAK,EAAE,IAFI;AAGXQ,MAAAA,QAAQ,EAAE,KAHC;AAIXC,MAAAA,KAAK,EAAE;AAJI,KAAb;AAFiB;AAQlB;;;;kCAEa;AACV,WAAKf,QAAL,CAAc;AACda,QAAAA,SAAS,EAAE,CAAC,KAAKnB,KAAL,CAAWmB;AADT,OAAd;AAGD;;;kCAEW;AACZ,WAAKb,QAAL,CAAc,UAAAN,KAAK;AAAA,eAAK;AACtBsB,UAAAA,UAAU,EAAE,CAACtB,KAAK,CAACsB;AADG,SAAL;AAAA,OAAnB;AAGD;;;wCAEmB;AAAA;;AAClBzC,MAAAA,KAAK,CAAC,qCAAD,CAAL,CACGM,IADH,CACQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACmC,IAAJ,EAAJ;AAAA,OADX,EAEGpC,IAFH,CAGI,UAACqC,MAAD,EAAY;AACV,QAAA,MAAI,CAAClB,QAAL,CAAc;AACZc,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,KAAK,EAAEG;AAFK,SAAd;AAID,OARL,EASI;AACA;AACA;AACA,gBAACZ,KAAD,EAAW;AACT,QAAA,MAAI,CAACN,QAAL,CAAc;AACZc,UAAAA,QAAQ,EAAE,IADE;AAEZR,UAAAA,KAAK,EAALA;AAFY,SAAd;AAID,OAjBL;AAmBD;;;6BAEQ;AAAA,yBAC4B,KAAKZ,KADjC;AAAA,UACCY,KADD,gBACCA,KADD;AAAA,UACQQ,QADR,gBACQA,QADR;AAAA,UACkBC,KADlB,gBACkBA,KADlB;;AAEP,UAAIT,KAAJ,EAAW;AACT,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAaA,KAAK,CAACa,OAAnB,CAAP;AACD,OAFD,MAEO,IAAI,CAACL,QAAL,EAAe;AACpB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACD,OAFM,MAEA;AACL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,OAAO,EAAE,KAAKM,WAAL,CAAiBvB,IAAjB,CAAsB,IAAtB,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAGK,KAAKH,KAAL,CAAWmB,SAAX,GAAuB,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,oBAAZ;AAAiC,UAAA,UAAU,EAAE,KAAKO,WAAL,CAAiBvB,IAAjB,CAAsB,IAAtB,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAvB,GAAoG,IAHzG,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKkB,KAAK,CAACV,GAAN,CAAU,UAAAgB,IAAI;AAAA,iBACf;AAAI,YAAA,GAAG,EAAEA,IAAI,CAACC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAkBD,IAAI,CAACC,SAAvB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAmBD,IAAI,CAACE,iBAAxB,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAqBF,IAAI,CAACjC,mBAA1B,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAyBiC,IAAI,CAAClC,eAA9B,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAA6BkC,IAAI,CAACjC,mBAAlC,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAciC,IAAI,CAAChC,aAAnB,CANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAcgC,IAAI,CAAC1B,aAAnB,CAPF,EAOwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPxC,CADe;AAAA,SAAd,CAAL,CALF,CADF;AAoBD;AACF;;;;EAzEmB1B,KAAK,CAACC,S;;AA6E5B,eAAe0C,OAAf","sourcesContent":["import React, { Component } from \"react\";\n \n\nexport function createBlogPost(event) {\n    //const data = new FormData(event.target);\n    console.log(event);\n    return fetch('http://localhost:8080/invoices/', {\n        method: 'POST',\n        body: JSON.stringify(event),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n    }).then(res => {\n        return res;\n    }).catch(err => err);\n\n}\n\n\nfunction validate(clientName, invoiceUniqueNo, invoiceCreationDate, invoiceAmount) {\n  // we are going to store errors for all fields\n  // in a signle array\n  const errors = [];\n\n  if (clientName.length === 0) {\n    errors.push(\"Client Name in invoice can't be empty\");\n  }\n\n  if (invoiceUniqueNo.length === 0) {\n    errors.push(\"Invoice unique Number can't be empty\");\n  }\n\n  if (invoiceCreationDate.length != 10) {\n    errors.push(\"Invoice creation date should be of format dd/MM/yyyy\");\n  }\n\n  if (invoiceAmount.length == 6) {\n    errors.push(\"Amount can't be empty\");\n  }\n\n  return errors;\n}\n\n\nclass Popup extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      clientName: \"\",\n      invoiceUniqueNo: \"\",\n      invoiceCreationDate: \"\",\n      invoiceAmount: \"\",\n      invoiceStatus: \"\",\n\n      errors: []\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    const { clientName, invoiceUniqueNo, invoiceCreationDate, invoiceAmount } = this.state;\n\n    const errors = validate(clientName, invoiceUniqueNo, invoiceCreationDate, invoiceAmount);\n    if (errors.length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    // submit the data...\n    // calling the post api\n    console.log(this.state);\n    createBlogPost(this.state);\n  }\n\n\n  render() {\n    const { errors } = this.state;\n    return (\n      <div className='popup'>\n        <div className='popup_inner'>\n          <h1>{this.props.text}</h1>\n          <div>\n            <input type = \"text\" value = {this.props.myDataProp} \n               onChange = {this.props.updateStateProp} />\n            <h3>{this.props.myDataProp}</h3>\n         </div>\n\n         <form onSubmit={this.handleSubmit}>\n          {errors.map(error => (\n          <p key={error}>Error: {error}</p>\n          ))}\n\n        <input value={this.state.userId}\n          onChange={evt => this.setState({ userId: evt.target.value })}\n          type=\"text\"\n          placeholder=\"userId\" id=\"userId\"/>   \n\n        <input value={this.state.clientName}\n          onChange={evt => this.setState({ clientName: evt.target.value })}\n          type=\"text\"\n          placeholder=\"clientName\" id=\"clientName\"/> \n\n          <label htmlFor=\"invoiceUniqueNo\">Invoice Unique No.: </label>\n        <input value={this.state.invoiceUniqueNo}\n          onChange={evt => this.setState({ invoiceUniqueNo: evt.target.value })}\n          type=\"text\"\n          placeholder=\"invoiceUniqueNo\" id=\"invoiceUniqueNo\"/>\n          <br/>\n\n          <label htmlFor=\"invoiceCreationDate\">Invoice Creation date (dd/MM/yyyy) : </label>\n        <input value={this.state.invoiceCreationDate}\n          onChange={evt => this.setState({ invoiceCreationDate: evt.target.value })}\n          type=\"text\"\n          placeholder=\"invoiceCreationDate\" id=\"invoiceCreationDate\"/>\n          <br/>\n\n          <label htmlFor=\"invoiceAmount\">Invoice Amount : </label>\n        <input value={this.state.invoiceAmount}\n          onChange={evt => this.setState({ invoiceAmount: evt.target.value })}\n          type=\"text\"\n          placeholder=\"invoiceAmount\" id=\"invoiceAmount\"/>\n          <br/>\n\n\n        <button type=\"submit\">Submit</button>\n        <button onClick={this.props.closePopup}>Cancel</button>\n        <button onClick={this.props.closePopup}>Create</button>\n      </form>\n\n        \n        </div>\n      </div>\n    );\n  }\n}\n\nclass Invoice extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPopup: false,\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n  }\n\n  togglePopup() {\n      this.setState({\n      showPopup: !this.state.showPopup\n      });\n    }\n\n  handleClick() {\n    this.setState(state => ({\n      isToggleOn: !state.isToggleOn\n    }));\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/invoices/1000\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            items: result\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  render() {\n    const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div>\n            <button color=\"primary\" onClick={this.togglePopup.bind(this)}>Create New Invoice</button>\n\n            {this.state.showPopup ? <Popup text='Create New Invoice' closePopup={this.togglePopup.bind(this)}/>: null}\n\n          <ul>{items.map(item => (\n              <li key={item.invoiceId}>\n                <ul>Invoice ID : {item.invoiceId}</ul>\n                <ul>Client name : {item.invoiceClientName}</ul>\n                <ul>Creation Date : {item.invoiceCreationDate}</ul>\n                <ul>Invoice Unique ID : {item.invoiceUniqueNo}</ul>\n                <ul>Invoice Creation Date : {item.invoiceCreationDate}</ul>\n                <ul>Amount : {item.invoiceAmount}</ul>\n                <ul>Status : {item.invoiceStatus}</ul><br/>\n            </li>\n          ))}\n          </ul>\n        </div> \n      );\n    }\n  }\n}\n\n \nexport default Invoice;\n"]},"metadata":{},"sourceType":"module"}