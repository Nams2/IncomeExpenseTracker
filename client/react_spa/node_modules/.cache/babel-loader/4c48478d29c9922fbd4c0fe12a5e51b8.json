{"ast":null,"code":"import _classCallCheck from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/nmehta/Desktop/Project/payRollApplication/react_spa/src/Invoice.js\";\nimport React, { Component } from \"react\";\nexport function createBlogPost(event) {\n  var data = new FormData(event.target);\n  console.log(data);\n  return fetch('http://localhost:8080/invoices/', {\n    method: 'POST',\n    body: JSON.stringify(data)\n  }).then(function (res) {\n    return res;\n  }).catch(function (err) {\n    return err;\n  });\n}\n\nfunction validate(clientName, invoice_unique_id, invoice_creation_date, amount) {\n  // we are going to store errors for all fields\n  // in a signle array\n  var errors = [];\n\n  if (clientName.length === 0) {\n    errors.push(\"Client Name in invoice can't be empty\");\n  }\n\n  if (invoice_unique_id.length === 0) {\n    errors.push(\"Invoice unique Number can't be empty\");\n  }\n\n  if (invoice_creation_date.length != 10) {\n    errors.push(\"Invoice creation date should be of format dd/MM/yyyy\");\n  }\n\n  if (amount.length == 6) {\n    errors.push(\"Amount can't be empty\");\n  }\n\n  return errors;\n}\n\nvar Popup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Popup, _React$Component);\n\n  function Popup() {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popup).call(this));\n    _this.state = {\n      clientName: \"\",\n      invoice_unique_id: \"\",\n      invoice_creation_date: \"\",\n      amount: \"\",\n      status: \"\",\n      errors: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var _this$state = this.state,\n          clientName = _this$state.clientName,\n          invoice_unique_id = _this$state.invoice_unique_id,\n          invoice_creation_date = _this$state.invoice_creation_date,\n          amount = _this$state.amount;\n      var errors = validate(clientName, invoice_unique_id, invoice_creation_date, amount);\n\n      if (errors.length > 0) {\n        this.setState({\n          errors: errors\n        });\n        return;\n      } // submit the data...\n      // calling the post api\n\n\n      this.props.onSubmit(this.state);\n      console.log(this.state);\n      createBlogPost(e);\n      this.props.router.push('/').bind(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        className: \"popup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popup_inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.props.text), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.props.myDataProp,\n        onChange: this.props.updateStateProp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.props.myDataProp)), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, errors.map(function (error) {\n        return React.createElement(\"p\", {\n          key: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Error: \", error);\n      }), React.createElement(\"label\", {\n        htmlFor: \"clientName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Last Name : \"), React.createElement(\"input\", {\n        value: this.state.clientName,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            clientName: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"clientName\",\n        id: \"clientName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"invoice_unique_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Invoice Unique No.: \"), React.createElement(\"input\", {\n        value: this.state.invoice_unique_id,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            invoice_unique_id: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"invoice_unique_id\",\n        id: \"invoice_unique_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"invoice_creation_date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Invoice Creation date (dd/MM/yyyy) : \"), React.createElement(\"input\", {\n        value: this.state.invoice_creation_date,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            invoice_creation_date: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"invoice_creation_date\",\n        id: \"invoice_creation_date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Invoice Amount : \"), React.createElement(\"input\", {\n        value: this.state.amount,\n        onChange: function onChange(evt) {\n          return _this2.setState({\n            amount: evt.target.value\n          });\n        },\n        type: \"text\",\n        placeholder: \"amount\",\n        id: \"amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        onClick: this.props.closePopup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"button\", {\n        onClick: this.props.closePopup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Create\"))));\n    }\n  }]);\n\n  return Popup;\n}(React.Component);\n\nvar Invoice =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Invoice, _React$Component2);\n\n  function Invoice(props) {\n    var _this3;\n\n    _classCallCheck(this, Invoice);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Invoice).call(this, props));\n    _this3.state = {\n      showPopup: false,\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n    return _this3;\n  }\n\n  _createClass(Invoice, [{\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      this.setState(function (state) {\n        return {\n          isToggleOn: !state.isToggleOn\n        };\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      fetch(\"http://localhost:8080/invoices/1000\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this4.setState({\n          isLoaded: true,\n          items: result\n        });\n      }, // Note: it's important to handle errors here\n      // instead of a catch() block so that we don't swallow\n      // exceptions from actual bugs in components.\n      function (error) {\n        _this4.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          error = _this$state2.error,\n          isLoaded = _this$state2.isLoaded,\n          items = _this$state2.items;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          color: \"primary\",\n          onClick: this.togglePopup.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Create New Invoice\"), this.state.showPopup ? React.createElement(Popup, {\n          text: \"Create New Invoice\",\n          closePopup: this.togglePopup.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }) : null, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, items.map(function (item) {\n          return React.createElement(\"li\", {\n            key: item.invoiceId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }, React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, \"Invoice ID : \", item.invoiceId), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, \"Client name : \", item.invoiceClientName), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, \"Creation Date : \", item.invoiceCreationDate), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          }, \"Invoice Unique ID : \", item.invoiceUniqueNo), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, \"Invoice Creation Date : \", item.invoiceCreationDate), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, \"Amount : \", item.invoiceAmount), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, \"Status : \", item.invoiceStatus), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }));\n        })));\n      }\n    }\n  }]);\n\n  return Invoice;\n}(React.Component);\n\nexport default Invoice;","map":{"version":3,"sources":["/Users/nmehta/Desktop/Project/payRollApplication/react_spa/src/Invoice.js"],"names":["React","Component","createBlogPost","event","data","FormData","target","console","log","fetch","method","body","JSON","stringify","then","res","catch","err","validate","clientName","invoice_unique_id","invoice_creation_date","amount","errors","length","push","Popup","state","status","handleSubmit","bind","e","preventDefault","setState","props","onSubmit","router","text","myDataProp","updateStateProp","map","error","evt","value","closePopup","Invoice","showPopup","isLoaded","items","isToggleOn","json","result","message","togglePopup","item","invoiceId","invoiceClientName","invoiceCreationDate","invoiceUniqueNo","invoiceAmount","invoiceStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n \n\nexport function createBlogPost(event) {\n    const data = new FormData(event.target);\n    console.log(data);\n    return fetch('http://localhost:8080/invoices/', {\n        method: 'POST',\n        body: JSON.stringify(data)\n    }).then(res => {\n        return res;\n    }).catch(err => err);\n\n}\n\n\nfunction validate(clientName, invoice_unique_id, invoice_creation_date, amount) {\n  // we are going to store errors for all fields\n  // in a signle array\n  const errors = [];\n\n  if (clientName.length === 0) {\n    errors.push(\"Client Name in invoice can't be empty\");\n  }\n\n  if (invoice_unique_id.length === 0) {\n    errors.push(\"Invoice unique Number can't be empty\");\n  }\n\n  if (invoice_creation_date.length != 10) {\n    errors.push(\"Invoice creation date should be of format dd/MM/yyyy\");\n  }\n\n  if (amount.length == 6) {\n    errors.push(\"Amount can't be empty\");\n  }\n\n  return errors;\n}\n\n\nclass Popup extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      clientName: \"\",\n      invoice_unique_id: \"\",\n      invoice_creation_date: \"\",\n      amount: \"\",\n      status: \"\",\n\n      errors: []\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    const { clientName, invoice_unique_id, invoice_creation_date, amount } = this.state;\n\n    const errors = validate(clientName, invoice_unique_id, invoice_creation_date, amount);\n    if (errors.length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    // submit the data...\n    // calling the post api\n    this.props.onSubmit(this.state);\n    console.log(this.state);\n    createBlogPost(e);\n    this.props.router.push('/').bind(this);\n\n  }\n\n  render() {\n    const { errors } = this.state;\n    return (\n      <div className='popup'>\n        <div className='popup_inner'>\n          <h1>{this.props.text}</h1>\n          <div>\n            <input type = \"text\" value = {this.props.myDataProp} \n               onChange = {this.props.updateStateProp} />\n            <h3>{this.props.myDataProp}</h3>\n         </div>\n\n         <form onSubmit={this.handleSubmit}>\n          {errors.map(error => (\n          <p key={error}>Error: {error}</p>\n          ))}\n\n         <label htmlFor=\"clientName\">Last Name : </label>\n        <input value={this.state.clientName}\n          onChange={evt => this.setState({ clientName: evt.target.value })}\n          type=\"text\"\n          placeholder=\"clientName\" id=\"clientName\"/> \n          <br/>\n\n          <label for=\"invoice_unique_id\">Invoice Unique No.: </label>\n        <input value={this.state.invoice_unique_id}\n          onChange={evt => this.setState({ invoice_unique_id: evt.target.value })}\n          type=\"text\"\n          placeholder=\"invoice_unique_id\" id=\"invoice_unique_id\"/>\n          <br/>\n\n          <label for=\"invoice_creation_date\">Invoice Creation date (dd/MM/yyyy) : </label>\n        <input value={this.state.invoice_creation_date}\n          onChange={evt => this.setState({ invoice_creation_date: evt.target.value })}\n          type=\"text\"\n          placeholder=\"invoice_creation_date\" id=\"invoice_creation_date\"/>\n          <br/>\n\n          <label for=\"amount\">Invoice Amount : </label>\n        <input value={this.state.amount}\n          onChange={evt => this.setState({ amount: evt.target.value })}\n          type=\"text\"\n          placeholder=\"amount\" id=\"amount\"/>\n          <br/>\n\n\n        <button type=\"submit\">Submit</button>\n        <button onClick={this.props.closePopup}>Cancel</button>\n        <button onClick={this.props.closePopup}>Create</button>\n      </form>\n\n        \n        </div>\n      </div>\n    );\n  }\n}\n\nclass Invoice extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPopup: false,\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n  }\n\n  togglePopup() {\n      this.setState({\n      showPopup: !this.state.showPopup\n      });\n    }\n\n  handleClick() {\n    this.setState(state => ({\n      isToggleOn: !state.isToggleOn\n    }));\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/invoices/1000\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            items: result\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  render() {\n    const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div>\n            <button color=\"primary\" onClick={this.togglePopup.bind(this)}>Create New Invoice</button>\n\n            {this.state.showPopup ? <Popup text='Create New Invoice' closePopup={this.togglePopup.bind(this)}/>: null}\n\n          <ul>{items.map(item => (\n              <li key={item.invoiceId}>\n                <ul>Invoice ID : {item.invoiceId}</ul>\n                <ul>Client name : {item.invoiceClientName}</ul>\n                <ul>Creation Date : {item.invoiceCreationDate}</ul>\n                <ul>Invoice Unique ID : {item.invoiceUniqueNo}</ul>\n                <ul>Invoice Creation Date : {item.invoiceCreationDate}</ul>\n                <ul>Amount : {item.invoiceAmount}</ul>\n                <ul>Status : {item.invoiceStatus}</ul><br/>\n            </li>\n          ))}\n          </ul>\n        </div> \n      );\n    }\n  }\n}\n\n \nexport default Invoice;\n"]},"metadata":{},"sourceType":"module"}